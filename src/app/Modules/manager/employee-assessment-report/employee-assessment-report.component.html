<div class="container-fluid">
    <div class="row">
        <div class="col-lg-10">
            <p class="headings">Assesment Report Dashboard</p>
        </div>
        <div class="col-lg-2">
            <p class="count">Count:{{employeereportlist.length}} </p>
        </div>
    </div>
    <div class="card">
        <div class="row FilterClass ">
            <div class="col-lg-1">
                <p class="filter">Filter By</p>
            </div>
        
            <div class="col-lg-4">
                <input type="search" class="form-control search" placeholder="Search for Data.." [(ngModel)]="search"
                    name="search">
            </div>
            <div class="col-lg-2">
                <select class="form-control"     name="courseID" [(ngModel)]="courseID" (change)="getcourseid($event)">
                    <option value="0">Training Name</option>
                    <option *ngFor="let details of Courselist" value="{{details.id}}">{{details.name}}</option>
                </select>
            </div>
            <div class="col-lg-2">
                <select class="form-control"     name="courseID" [(ngModel)]="TopicID" (change)="getcourseid($event)">
                    <option value="0">Topic Name</option>
                    <option *ngFor="let details of TopicList" value="{{details.id}}">{{details.name}}</option>
                </select>
            </div>
        </div>
    </div>
      <br>

      <div class="row">
        <div class="col-lg-10">
            <div class="tab-slider--nav">
                <ul class="tab-slider--tabs">
                    <li class="tab-slider--trigger" [class.active]="viewMode == 'tab1'" rel="tab1"
                        (click)="viewMode ='tab1'">
                        Online</li>
                    <li class="tab-slider--trigger" [class.active]="viewMode == 'tab2'" rel="tab2"
                        (click)="viewMode ='tab2'">Written</li>

                    <!-- <li class="tab-slider--trigger" [class.active]="viewMode == 'tab3'" rel="tab3"
                        (click)="viewMode ='tab3'">External</li> -->
                </ul>
            </div>

        </div>
        <div class="col-lg-2">
            <button class="Button" (click)="exportexcel()">Export To Excel</button>
        </div>
    </div>
   <br>

    

        <div class="row">
            <div class="tab-slider--container" [ngSwitch]="viewMode">
                <div *ngSwitchCase="'tab1'" id="tab1">
                    <div class="col-lg-12">
                        <table id="download" class="table" *ngIf="(uniquelist | filter: search).length > 0; else noResults">
                            <thead>
                                <tr>
                                    <th>Assessment Date</th>
                                    <th>Training Type</th>
                                    <th>Training Name</th>
                                    <th>Topic name</th>
                                    <th>Total Marks</th>
                                    <th>Obtained Marks</th>
                                    <th>Percentage</th>
                                    <th>Status</th>
                                </tr>
                                <tr *ngFor="let details of employeereportlist|filter :search">
                                    <td>{{details.assessmentDate|date}}</td>
                                    <td>Online</td>
                                    <td>{{details.courseName}}</td>
                                    <td style="color:#0C275A">{{details.chapterName}}</td>
                                    <td> {{details.totalmarks}}</td>
                                    <td> {{details.obtainedMarks}}</td>
                                    <td> {{details.obtainedMarks/details.totalmarks
                                        *100 | number : '1.2-2'}} % </td>
                                    <td>{{details.testResult}}</td>
                                    
                                </tr>
                            </thead>
                        </table>
                        <ng-template #noResults>
                            <p class="NoResultShow"> Results not found </p>
                        </ng-template>
                    </div>
                </div>
                <div *ngSwitchCase="'tab2'" id="tab2">
                    <div class="col-lg-12">
                        <table id="download" class="table" *ngIf="(employeereportlist2 | filter: search).length > 0; else noResults">
                            <thead>
                                <tr>
                                    <th>Assessment Date</th>
                                    <th>Training Type</th>
                                    <th>Training Name</th>
                                    <th>Topic name</th>
                                    <th>Attachment</th>
                                </tr>
                                <tr *ngFor="let details of employeereportlist2|filter :search">
                                    <td>{{details.assessmentdate|date}}</td>
                                    <td>Class Room Training</td>
                                    <td>{{details.courseName}}</td>
                                    <td style="color:#0C275A">{{details.chapterName}}</td>
                                   <td>
                                    <a href="{{details.attachmentCR}}" target="_blank">
                                        <img width="20" height="30" border="0" align="center"  src="assets/Images/image.png"/>
                                      </a>
                                   </td>
                                    
                                </tr>
                            </thead>
                        </table>
                        <ng-template #noResults>
                            <p class="NoResultShow"> Results not found </p>
                        </ng-template>
                    </div>
                </div>
             
        </div>
   



</div>


