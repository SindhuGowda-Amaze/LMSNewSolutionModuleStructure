
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-4">
            <P class="headings">Mandatory Training Report</P>
        </div>
    </div>
    
    <div class="card">
        <div class="row FilterClass">
            <div class="col-lg-1">
                <p class="filter">Filter By</p>
            </div>
            <div class="col-lg-3">
                <input class="form-control" placeholder="Search" [(ngModel)]="search">
            </div>
            <div class="col-lg-3">
                <select class="form-control" id="Duration" (change)="getemployeeid($event)">
                    <option value="0">Select Employee</option>
                    <option *ngFor="let details of uniquelist" value="{{details.employeeName}}">{{details.employeeName}}
                    </option>
                </select>
            </div>
        </div>
    </div><br>
    
    <div class="row">
        <div class="col-lg-10"></div>
        <div class="col-lg-2">
            <button class="Button" (click)="exportexcel()">Export To Excel</button>
        </div>
    </div>
    <br>
    
    <div class="row">
        <div class="col-lg-10"></div>
    </div>
    <br>
    
    
    
    <div class="row head">
        <div class="col-lg-12">
            <table id="download" class="table" *ngIf="(result | filter: search).length > 0; else noResults">
                <thead>
                    <tr>
                        <th>Employee Name</th>
                        <th>Training Name</th>
                        <th>Training Type</th>
                        <th>To be Completed</th>
                        <th>Status</th>
                    </tr>
                    <tr *ngFor="let details of result | filter : search">
                        <td [ngClass]="{'bgred':details.cEndDate<=todaydate}">{{details.employeeName}}</td>
                        <td [ngClass]="{'bgred':details.cEndDate<=todaydate  }">{{details.name}}</td>
                        <td [ngClass]="{'bgred':details.cEndDate<=todaydate  }">
                            <p *ngIf="details.trainingType==1">Online</p>
                            <p *ngIf="details.trainingType==2">External</p>
                            <p *ngIf="details.trainingType==3">Class Room</p>
                           </td>
                        <td [ngClass]="{'bgred':details.cEndDate<=todaydate }">{{details.monthName}}</td>
                        <!-- <td>{{details.modifiedDate|date}}</td> -->
                        <td [ngClass]="{'bgred':details.cEndDate<=todaydate }">
                            <p *ngIf="details.status=='Manager Approved'||details.status=='Manager Rejected'">
                                {{details.status}}</p>
                            <button *ngIf="details.status=='Manager Pending'" class="btn btn-primary addbtn"
                                data-toggle="modal" data-target="#exampleModal" (click)="getid(details.id)">Approve</button>
                            <br><br>
                            <button *ngIf="details.status=='Manager Pending'" class="btn btn-primary"
                                style="background-color:#dc3545; border:none; width:92%;" (click)="getid(details.id)"
                                data-toggle="modal" data-target="#Reject">Reject</button>
                        </td>
                    </tr>
                </thead>
            </table>
            <ng-template #noResults>
                <p class="NoResultShow">No results found </p>
            </ng-template>
        </div>
    </div>
</div>
